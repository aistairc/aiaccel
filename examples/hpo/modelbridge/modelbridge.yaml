# Example configuration for the modelbridge pipeline.
# Run with:
#   make -f examples/hpo/modelbridge/Makefile.template pipeline \
#     MODELBRIDGE_CONFIG=examples/hpo/modelbridge/modelbridge.yaml \
#     MODELBRIDGE_SCENARIO=simple

hpo:
  optimizer: optuna
  sampler: tpe

bridge:
  output_dir: ./work/modelbridge/simple
  seed: 32
  train_runs: 10    # Number of HPO training runs
  eval_runs: 10     # Number of HPO evaluation runs
  log_level: INFO
  scenarios:
    - name: simple
      train_macro_trials: 12
      train_micro_trials: 12
      eval_macro_trials: 6
      eval_micro_trials: 6
      train_objective:
        target: examples.hpo.modelbridge.simple_benchmark.objective
      eval_objective:
        target: examples.hpo.modelbridge.simple_benchmark.objective
      train_params:
        macro:
          macro_x:
            low: -1.0
            high: 1.0
          macro_y:
            low: -1.0
            high: 1.0
        micro:
          micro_x:
            low: -1.0
            high: 1.0
          micro_y:
            low: -1.0
            high: 1.0
      eval_params:
        macro:
          macro_x:
            low: -1.0
            high: 1.0
          macro_y:
            low: -1.0
            high: 1.0
        micro:
          micro_x:
            low: -1.0
            high: 1.0
          micro_y:
            low: -1.0
            high: 1.0
      regression:
        kind: linear
        degree: 1
      # Example: uncomment to use GPy-based Gaussian Process regression
      # regression:
      #   kind: gpr
      #   gpr:
      #     kernel: RBF
      #     noise: 1.0e-5
      metrics: [mae, mse, r2]
